# First person character for unity

## Intro
This GitHub repo contains my most recent project, which I have used to practice different AI NPC systems. I initially started this project to create a flexible first-person character controller that I could use for future projects. But as I progressed throughout the project, I realized that the project requires some base AI NPC system to test how the systems might interact once implemented. Around this time, I was also developing a passion for working on different AI NPC systems in games. It was an opportune time to work on said NPC systems to gain practice and experience, so I decided to repivot to work on more AI systems for the project. For the project's initial phase, I started to work on a finite state machine (FSM), considered the least complex system to maintain still allowed me to gain valuable information on different challenges and considerations that appeared as I built NPC for the project.

## Finite State Machine
The initial NPC system I implemented in the project was a Finite State Machine (FSM) in Unity. I made this decision because of my previous experience using Unity and C#, which allowed me to spend more time designing and working on an AI system as possible to use in an FPS shooter. Besides the states, I have implemented a Director AI that helps control all NPCs to better coordinate group information and actions. The current states implemented are as follows: Patrol, Idle, Aggression, Attack, Cover, and Search. I chose these states initially as they are some of the more common actions players would encounter in FPS games. 

Most states implemented are self-explanatory, except for the state called "Aggression." In the context of the FSM, the aggression state works more as an intermediary state between the Patrol/Idle states and the Attack/Cover states. When in the state, the NPC calculates a utility value that is used to determine its willingness to either attack the player or go to cover. The value is calculated by considering if the NPC is in the range of the player to deal damage and if it can take cover with any nearby cover points. A higher number represents an NPC more willing and likely to attack the player. Any time an NPC finishes calculating the value, it adds to a list in the Director AI. Every few seconds, the Director AI will run a probability on each NPC on its list of waiting NPCs. If the threshold is met, as well as the limit of attacking enemies attacking, then the NPC will change to the attack state else; it will go to the cover state and run to the closest unoccupied cover point.

Besides the NPC states, the AI also contains a common methods script containing commonly used methods throughout the states, principally methods related to movement. As well as an AI manager script controls vital information the NPC needs to track between states as well as switch between states. This combination of an FSM and the scripts allowed individual NPCs to control their behavior regarding what states they would be in and what individual actions they would take.